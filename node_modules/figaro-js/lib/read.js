'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _path=require('path');var _path2=_interopRequireDefault(_path);var _utils=require('./utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function readConfigFile(filePath){try{return(0,_utils.readYamlFile)(filePath)}catch(e){console.warn('Figaro: (WARNING) file '+filePath+' not loaded: '+e.message);return{}}}function read(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$path=_ref.path,filePath=_ref$path===undefined?_path2.default.resolve('config/application.yml'):_ref$path,_ref$environment=_ref.environment,environment=_ref$environment===undefined?process.env.NODE_ENV||'development':_ref$environment;var allVars=readConfigFile(filePath);var sharedVars=(0,_utils.omitObjectValues)(allVars);var environmentVars=allVars[environment]||{};return _extends({},sharedVars,environmentVars)}exports.default=read;