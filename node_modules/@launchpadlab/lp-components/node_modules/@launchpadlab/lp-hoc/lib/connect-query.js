'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _react=require('react');var _react2=_interopRequireDefault(_react);var _utils=require('./utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function connectQuery(){var mappingConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_utils.noop;var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$camelize=_ref.camelize,camelize=_ref$camelize===undefined?true:_ref$camelize;function modify(props){var query=(0,_utils.parse)(window.location.search);var casedQuery=camelize?(0,_utils.camelizeKeys)(query):query;var primitiveQuery=(0,_utils.mapValues)(casedQuery,_utils.coerce);var mapperFunc=(0,_utils.createMapperFunc)(mappingConfig);return mapperFunc(primitiveQuery,props)}return function(WrappedComponent){function Wrapper(props){var newProps=_extends({},props,modify(props));return _react2.default.createElement(WrappedComponent,newProps)}Wrapper.displayName=(0,_utils.wrapDisplayName)(WrappedComponent,'connectQuery');return Wrapper}}exports.default=connectQuery;