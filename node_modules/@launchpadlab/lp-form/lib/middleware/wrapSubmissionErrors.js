'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _getOr2=require('lodash/fp/getOr');var _getOr3=_interopRequireDefault(_getOr2);var _withPropsOnChange2=require('recompose/withPropsOnChange');var _withPropsOnChange3=_interopRequireDefault(_withPropsOnChange2);var _reduxForm=require('redux-form');var _isPromise=require('is-promise');var _isPromise2=_interopRequireDefault(_isPromise);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var wrapSubmissionErrors=(0,_withPropsOnChange3.default)(['onSubmit'],function(_ref){var _onSubmit=_ref.onSubmit;return{onSubmit:function onSubmit(){var result=_onSubmit.apply(undefined,arguments);if(!(0,_isPromise2.default)(result))return result;return result.catch(function(err){var messages=(0,_getOr3.default)({},'errors',err);var submissionError=new _reduxForm.SubmissionError(messages);submissionError.meta={error:err};throw submissionError})}}});exports.default=wrapSubmissionErrors;